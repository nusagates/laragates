import{a as C,c as F,r as N,b as r,d,o as p,e as l,u as m,g as D,w as s,i as e,H as j,j as c,h as L,F as y,k as R,t as n,S as T,Q as x}from"./app-BqckiNoC.js";import{A as U}from"./AdminLayout-O7Oxasoz.js";/* empty css                                                                    */import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"d-flex justify-space-between align-center mb-4"},K={class:"d-flex",style:{gap:"8px"}},Q={class:"text-caption"},E={key:0},H={class:"mt-4 d-flex justify-end"},M={__name:"Index",setup(I){var v,g;const i=C(),u=F(()=>i.props.campaigns??{data:[],last_page:1,current_page:1}),o=N({search:((v=i.props.filters)==null?void 0:v.search)??"",status:((g=i.props.filters)==null?void 0:g.status)??""});function _(){x.get(route("broadcast.report"),{search:o.value.search,status:o.value.status},{preserveState:!0,preserveScroll:!0})}return(f,t)=>{const V=r("v-text-field"),S=r("v-select"),b=r("v-btn"),k=r("v-table"),w=r("v-pagination"),B=r("v-card");return p(),d(y,null,[l(m(D),{title:"Broadcast Report"}),l(U,null,{title:s(()=>t[4]||(t[4]=[c("Broadcast Report")])),default:s(()=>[l(B,{class:"pa-4"},{default:s(()=>[e("div",A,[t[6]||(t[6]=e("div",null,[e("h3",{class:"text-h6 mb-0"},"Broadcast Campaign Report"),e("div",{class:"text-caption"},"Summary of campaigns")],-1)),e("div",K,[l(V,{modelValue:o.value.search,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.search=a),dense:"",placeholder:"Search campaign...",onKeyup:j(_,["enter"])},null,8,["modelValue"]),l(S,{dense:"",modelValue:o.value.status,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.status=a),items:["draft","pending_approval","approved","scheduled","running","done","failed"],clearable:"",placeholder:"Status"},null,8,["modelValue"]),l(b,{color:"primary",onClick:_},{default:s(()=>t[5]||(t[5]=[c("Filter")])),_:1,__:[5]})])]),l(k,{dense:""},{default:s(()=>[t[9]||(t[9]=e("thead",null,[e("tr",null,[e("th",null,"Campaign"),e("th",null,"Template"),e("th",null,"Targets"),e("th",null,"Sent"),e("th",null,"Failed"),e("th",null,"Date"),e("th")])],-1)),e("tbody",null,[(p(!0),d(y,null,R(u.value.data,a=>{var h;return p(),d("tr",{key:a.id},[e("td",null,[e("strong",null,n(a.name),1),e("div",Q,"by "+n(a.created_by),1)]),e("td",null,n(((h=a.template)==null?void 0:h.name)||"-"),1),e("td",null,n(a.targets_count??"-"),1),e("td",null,n(a.sent_count),1),e("td",null,n(a.failed_count),1),e("td",null,n(new Date(a.created_at).toLocaleString()),1),e("td",null,[l(m(T),{href:f.route("broadcast.report.show",a.id)},{default:s(()=>[l(b,{small:""},{default:s(()=>t[7]||(t[7]=[c("Detail")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128)),u.value.data.length===0?(p(),d("tr",E,t[8]||(t[8]=[e("td",{colspan:"7",class:"text-center"},"No campaigns found.",-1)]))):L("",!0)])]),_:1,__:[9]}),e("div",H,[l(w,{modelValue:u.value.current_page,"onUpdate:modelValue":[t[2]||(t[2]=a=>u.value.current_page=a),t[3]||(t[3]=a=>m(x).get(f.route("broadcast.report"),{page:a},{preserveState:!0,preserveScroll:!0}))],length:u.value.last_page},null,8,["modelValue","length"])])]),_:1})]),_:1})],64)}}};export{M as default};
