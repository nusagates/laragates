import{A as R}from"./AdminLayout-DDNgbf8P.js";import{r as b,b as n,d,o as i,e as l,u as y,g as U,w as o,j as u,i as t,h as x,F as h,k as L,t as s,Q as V}from"./app-z_qK7d6H.js";/* empty css                                                                    */import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={key:0},O={class:"text-body-2"},P={class:"text-caption text-grey-darken-1"},Q={class:"text-body-2"},z={class:"text-body-2"},E={class:"text-body-2"},H={key:0},q={class:"text-body-2"},M={__name:"Report",props:{campaigns:Object,filters:Object},setup(k){const r=k,p=b(r.filters.search||""),c=b(r.filters.status||"");function w(){V.get(route("broadcast.report"),{search:p.value,status:c.value},{preserveScroll:!0,preserveState:!0})}function C(_){return{draft:"grey",pending_approval:"orange",approved:"blue",rejected:"red",processing:"info",done:"green",failed:"red-darken-2"}[_]||"grey"}return(_,a)=>{const S=n("v-text-field"),m=n("v-col"),j=n("v-select"),A=n("v-btn"),B=n("v-row"),v=n("v-card"),F=n("v-chip"),D=n("v-table"),N=n("v-pagination");return i(),d(h,null,[l(y(U),{title:"Broadcast Report"}),l(R,null,{title:o(()=>a[4]||(a[4]=[u("Broadcast Report")])),default:o(()=>[l(v,{elevation:"2",class:"pa-4 mb-4"},{default:o(()=>[l(B,null,{default:o(()=>[l(m,{cols:"12",md:"5"},{default:o(()=>[l(S,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),label:"Cari Campaign","prepend-inner-icon":"mdi-magnify",clearable:""},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"4"},{default:o(()=>[l(j,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=e=>c.value=e),label:"Filter Status",items:[{title:"Draft",value:"draft"},{title:"Pending Approval",value:"pending_approval"},{title:"Approved",value:"approved"},{title:"Rejected",value:"rejected"},{title:"Processing",value:"processing"},{title:"Done",value:"done"},{title:"Failed",value:"failed"}],clearable:""},null,8,["modelValue"])]),_:1}),l(m,{cols:"12",md:"3",class:"d-flex align-end"},{default:o(()=>[l(A,{color:"primary",onClick:w,block:""},{default:o(()=>a[5]||(a[5]=[u("Apply Filter")])),_:1,__:[5]})]),_:1})]),_:1})]),_:1}),l(v,{elevation:"2",class:"pa-4"},{default:o(()=>[a[8]||(a[8]=t("h3",{class:"text-h6 mb-4 font-weight-bold"},"Broadcast History",-1)),l(D,{density:"compact","fixed-header":"",height:"500px"},{default:o(()=>[a[7]||(a[7]=t("thead",null,[t("tr",null,[t("th",null,"Campaign"),t("th",null,"Template"),t("th",null,"Audience"),t("th",null,"Sent"),t("th",null,"Status"),t("th",null,"Date")])],-1)),t("tbody",null,[r.campaigns.data.length===0?(i(),d("tr",T,a[6]||(a[6]=[t("td",{colspan:"6",class:"text-center py-6 text-grey"}," Tidak ada data broadcast. ",-1)]))):x("",!0),(i(!0),d(h,null,L(r.campaigns.data,e=>{var g,f;return i(),d("tr",{key:e.id},[t("td",O,[t("strong",null,s(e.name),1),t("div",P," by "+s(((g=e.creator)==null?void 0:g.name)||"Unknown"),1)]),t("td",Q,s(((f=e.template)==null?void 0:f.name)||"-"),1),t("td",z,s(e.total_targets)+" target ",1),t("td",E,[u(s(e.sent_count)+" sent ",1),e.failed_count?(i(),d("span",H," / "+s(e.failed_count)+" failed",1)):x("",!0)]),t("td",null,[l(F,{color:C(e.status),size:"small",label:"",class:"text-white"},{default:o(()=>[u(s(e.status.replace("_"," ")),1)]),_:2},1032,["color"])]),t("td",q,s(new Date(e.created_at).toLocaleString()),1)])}),128))])]),_:1,__:[7]}),l(N,{modelValue:r.campaigns.current_page,"onUpdate:modelValue":[a[2]||(a[2]=e=>r.campaigns.current_page=e),a[3]||(a[3]=e=>y(V).get(_.route("broadcast.report"),{page:e},{preserveScroll:!0}))],length:r.campaigns.last_page,class:"mt-4"},null,8,["modelValue","length"])]),_:1,__:[8]})]),_:1})],64)}}};export{M as default};
