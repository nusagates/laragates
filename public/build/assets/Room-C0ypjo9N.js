import{r as u,x as g,m as y,d as s,o as t,i as r,h,F as p,k as f,E as v,t as c,l as b}from"./app-z_qK7d6H.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={class:"room-wrapper"},I={key:0,class:"text-center mt-10 text-grey"},C={key:1,class:"messages-container"},N={key:0,class:"text-center mt-4"},w={key:1},B=["src"],F=["href"],E={key:2},L={class:"time"},M={key:0,class:"text-center mt-10 text-grey"},R={__name:"Room",props:{roomId:Number},setup(d){const n=d,i=u(!1),l=u([]);async function m(){if(!n.roomId)return l.value=[];i.value=!0;try{const a=await b.get(`/chat/sessions/${n.roomId}/messages`);l.value=a.data}catch(a){console.error(a)}finally{i.value=!1}}g(()=>n.roomId,()=>m()),y(()=>m());function _(a){return a.is_outgoing?"bubble-me":"bubble-you"}return(a,o)=>(t(),s("div",x,[d.roomId?(t(),s("div",C,[i.value?(t(),s("div",N,o[1]||(o[1]=[r("small",null,"Loading...",-1)]))):(t(),s("div",w,[(t(!0),s(p,null,f(l.value,e=>(t(),s("div",{key:e.id,class:v(["bubble",_(e)])},[e.media_type&&e.media_type.startsWith("image")?(t(),s("img",{key:0,src:e.media_url,class:"chat-img"},null,8,B)):e.media_type&&!e.media_type.startsWith("image")?(t(),s("a",{key:1,href:e.media_url,target:"_blank",class:"file-link"}," ðŸ“Ž "+c(e.message||"File Attachment"),9,F)):(t(),s("span",E,c(e.message),1)),r("div",L,c(e.created_at),1)],2))),128)),l.value.length?h("",!0):(t(),s("div",M,o[2]||(o[2]=[r("small",null,"No messages",-1)])))]))])):(t(),s("div",I,o[0]||(o[0]=[r("small",null,"Select a chat...",-1)])))]))}},W=k(R,[["__scopeId","data-v-8ef60881"]]);export{W as default};
