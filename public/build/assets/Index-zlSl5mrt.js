import{A as H}from"./AdminLayout-DDNgbf8P.js";import{a as R,r as S,b as s,d as c,o as I,e as o,u as O,g as F,w as l,j as n,i as _,F as L,Q as p}from"./app-z_qK7d6H.js";/* empty css                                                                    */import"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"d-flex align-center ga-4 mb-4"},X={__name:"Index",setup(Q){var w,k,g,V,y,E,A,C;const u=R().props,t=S({company_name:((w=u.settings)==null?void 0:w.company_name)??"",timezone:((k=u.settings)==null?void 0:k.timezone)??"Asia/Jakarta",wa_phone:((g=u.settings)==null?void 0:g.wa_phone)??"",wa_webhook:((V=u.settings)==null?void 0:V.wa_webhook)??"",wa_api_key:((y=u.settings)==null?void 0:y.wa_api_key)??"",notif_sound:((E=u.settings)==null?void 0:E.notif_sound)??!1,notif_desktop:((A=u.settings)==null?void 0:A.notif_desktop)??!1,auto_assign_ticket:((C=u.settings)==null?void 0:C.auto_assign_ticket)??!1}),m=S(0);function x(){p.post(route("settings.general"),{company_name:t.value.company_name,timezone:t.value.timezone})}function N(){p.post(route("settings.waba"),{wa_phone:t.value.wa_phone,wa_webhook:t.value.wa_webhook,wa_api_key:t.value.wa_api_key})}function U(){p.get(route("settings.testWebhook"),{},{onSuccess:()=>alert("Webhook reachable!"),onError:()=>alert("Webhook NOT reachable.")})}function z(){p.post(route("settings.preferences"),{notif_sound:t.value.notif_sound,notif_desktop:t.value.notif_desktop,auto_assign_ticket:t.value.auto_assign_ticket})}return(j,e)=>{const r=s("v-icon"),v=s("v-tab"),P=s("v-tabs"),W=s("v-divider"),i=s("v-text-field"),d=s("v-btn"),f=s("v-window-item"),T=s("v-chip"),b=s("v-switch"),G=s("v-window"),B=s("v-card");return I(),c(L,null,[o(O(F),{title:"Settings"}),o(H,null,{title:l(()=>e[10]||(e[10]=[n("Settings")])),default:l(()=>[o(B,{elevation:"2",class:"pa-4"},{default:l(()=>[o(P,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a),"bg-color":"transparent",color:"primary"},{default:l(()=>[o(v,null,{default:l(()=>[o(r,{class:"mr-2"},{default:l(()=>e[11]||(e[11]=[n("mdi-cog")])),_:1,__:[11]}),e[12]||(e[12]=n(" GENERAL "))]),_:1,__:[12]}),o(v,null,{default:l(()=>[o(r,{class:"mr-2"},{default:l(()=>e[13]||(e[13]=[n("mdi-whatsapp")])),_:1,__:[13]}),e[14]||(e[14]=n(" WHATSAPP API "))]),_:1,__:[14]}),o(v,null,{default:l(()=>[o(r,{class:"mr-2"},{default:l(()=>e[15]||(e[15]=[n("mdi-tune")])),_:1,__:[15]}),e[16]||(e[16]=n(" PREFERENCES "))]),_:1,__:[16]})]),_:1},8,["modelValue"]),o(W,{class:"mb-6"}),o(G,{modelValue:m.value,"onUpdate:modelValue":e[9]||(e[9]=a=>m.value=a)},{default:l(()=>[o(f,{value:0},{default:l(()=>[e[18]||(e[18]=_("h3",{class:"text-h6 font-weight-bold mb-4"},"General Settings",-1)),o(i,{label:"Company Name",modelValue:t.value.company_name,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.company_name=a),class:"mb-4",density:"comfortable"},null,8,["modelValue"]),o(i,{label:"Timezone",modelValue:t.value.timezone,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.timezone=a),class:"mb-4",density:"comfortable"},null,8,["modelValue"]),o(d,{color:"primary",onClick:x},{default:l(()=>e[17]||(e[17]=[n(" SAVE CHANGES ")])),_:1,__:[17]})]),_:1,__:[18]}),o(f,{value:1},{default:l(()=>[e[23]||(e[23]=_("h3",{class:"text-h6 font-weight-bold mb-4"},"WhatsApp Business API",-1)),o(i,{readonly:"",label:"Connected Phone Number",modelValue:t.value.wa_phone,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.wa_phone=a),class:"mb-4"},null,8,["modelValue"]),o(i,{label:"Webhook URL",modelValue:t.value.wa_webhook,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.wa_webhook=a),class:"mb-4"},null,8,["modelValue"]),o(i,{label:"API Key",modelValue:t.value.wa_api_key,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.wa_api_key=a),type:"password",class:"mb-4","append-inner-icon":"mdi-eye"},null,8,["modelValue"]),_("div",K,[o(T,{color:"red","text-color":"white"},{default:l(()=>e[19]||(e[19]=[n(" Disconnected ")])),_:1,__:[19]}),o(d,{size:"small",variant:"outlined"},{default:l(()=>e[20]||(e[20]=[n(" RECONNECT ")])),_:1,__:[20]}),o(d,{size:"small",variant:"text",onClick:U},{default:l(()=>e[21]||(e[21]=[n(" TEST WEBHOOK ")])),_:1,__:[21]})]),o(d,{color:"primary",onClick:N},{default:l(()=>e[22]||(e[22]=[n(" SAVE CHANGES ")])),_:1,__:[22]})]),_:1,__:[23]}),o(f,{value:2},{default:l(()=>[e[25]||(e[25]=_("h3",{class:"text-h6 font-weight-bold mb-4"},"Preferences",-1)),o(b,{modelValue:t.value.notif_sound,"onUpdate:modelValue":e[6]||(e[6]=a=>t.value.notif_sound=a),label:"Enable sound notification for new messages",class:"mb-2"},null,8,["modelValue"]),o(b,{modelValue:t.value.notif_desktop,"onUpdate:modelValue":e[7]||(e[7]=a=>t.value.notif_desktop=a),label:"Show desktop notification for new chats",class:"mb-2"},null,8,["modelValue"]),o(b,{modelValue:t.value.auto_assign_ticket,"onUpdate:modelValue":e[8]||(e[8]=a=>t.value.auto_assign_ticket=a),label:"Auto-assign new tickets to available agents",class:"mb-4"},null,8,["modelValue"]),o(d,{color:"primary",onClick:z},{default:l(()=>e[24]||(e[24]=[n(" SAVE CHANGES ")])),_:1,__:[24]})]),_:1,__:[25]})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}};export{X as default};
