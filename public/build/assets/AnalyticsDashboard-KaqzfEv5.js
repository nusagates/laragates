import{r as n,m as M,l as c,b as _,f as P,o as v,w as a,e as t,i as e,t as d,u as p,d as B,F as T,k as D}from"./app-z_qK7d6H.js";import{C as I,L as N,B as V,P as H,a as O,b as R,p as U,c as $,d as j,e as A}from"./index-DZbGTpgy.js";const q={class:"text-h4 font-weight-bold"},z={class:"text-h4 font-weight-bold"},G={class:"text-h5 font-weight-bold"},J={class:"text-h5 font-weight-bold"},X={__name:"AnalyticsDashboard",setup(K){I.register(N,V,H,O,R,U,$);const i=n({messages_today:0,active_sessions:0,avg_response_time:"0s",best_agent:"-"}),b=n([]),f=n([]),g=n([]),C=n([]),x=n([]),y=n([]),h=n([]),k=n([]);M(async()=>{const w=await c.get("/analytics/metrics");i.value=w.data;const s=await c.get("/analytics/trends");b.value=s.data.labels,f.value=s.data.inbound,g.value=s.data.outbound;const l=await c.get("/analytics/agents");C.value=l.data.labels,x.value=l.data.counts;const o=await c.get("/analytics/peakhours");y.value=o.data.map(r=>`${r.hour}:00`),h.value=o.data.map(r=>r.total);const u=await c.get("/analytics/sessions");k.value=u.data});const L={labels:b,datasets:[{label:"Inbound",data:f,borderColor:"#42A5F5",backgroundColor:"#42A5F5",tension:.3,fill:!1},{label:"Outbound",data:g,borderColor:"#66BB6A",backgroundColor:"#66BB6A",tension:.3,fill:!1}]},S={labels:C,datasets:[{label:"Messages Sent",data:x,backgroundColor:"#42A5F5"}]},E={labels:y,datasets:[{label:"Messages",data:h,backgroundColor:"#7E57C2"}]};return(w,s)=>{const l=_("v-card"),o=_("v-col"),u=_("v-row"),r=_("v-table"),F=_("v-container");return v(),P(F,{fluid:"",class:"mt-6"},{default:a(()=>[t(u,{dense:""},{default:a(()=>[t(o,{cols:"12",md:"3"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[0]||(s[0]=e("div",{class:"text-h6"},"Messages Today",-1)),e("div",q,d(i.value.messages_today),1)]),_:1,__:[0]})]),_:1}),t(o,{cols:"12",md:"3"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[1]||(s[1]=e("div",{class:"text-h6"},"Active Sessions",-1)),e("div",z,d(i.value.active_sessions),1)]),_:1,__:[1]})]),_:1}),t(o,{cols:"12",md:"3"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[2]||(s[2]=e("div",{class:"text-h6"},"Avg Response Time",-1)),e("div",G,d(i.value.avg_response_time),1)]),_:1,__:[2]})]),_:1}),t(o,{cols:"12",md:"3"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[3]||(s[3]=e("div",{class:"text-h6"},"Best Agent",-1)),e("div",J,d(i.value.best_agent),1)]),_:1,__:[3]})]),_:1})]),_:1}),t(u,{class:"mt-6",dense:""},{default:a(()=>[t(o,{cols:"12",md:"8"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[4]||(s[4]=e("div",{class:"text-h6 mb-2"},"Messages Trend (7 days)",-1)),t(p(j),{data:L,options:{responsive:!0}})]),_:1,__:[4]})]),_:1}),t(o,{cols:"12",md:"4"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[5]||(s[5]=e("div",{class:"text-h6 mb-2"},"Agent Performance",-1)),t(p(A),{data:S,options:{responsive:!0}})]),_:1,__:[5]})]),_:1})]),_:1}),t(u,{class:"mt-6",dense:""},{default:a(()=>[t(o,{cols:"12",md:"8"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[6]||(s[6]=e("div",{class:"text-h6 mb-2"},"Peak Hour Traffic",-1)),t(p(A),{data:E,options:{responsive:!0}})]),_:1,__:[6]})]),_:1}),t(o,{cols:"12",md:"4"},{default:a(()=>[t(l,{class:"pa-4"},{default:a(()=>[s[8]||(s[8]=e("div",{class:"text-h6 mb-2"},"Active Sessions",-1)),t(r,{density:"compact"},{default:a(()=>[s[7]||(s[7]=e("thead",null,[e("tr",null,[e("th",null,"Session ID"),e("th",null,"Customer"),e("th",null,"Updated")])],-1)),e("tbody",null,[(v(!0),B(T,null,D(k.value,m=>(v(),B("tr",{key:m.id},[e("td",null,d(m.id),1),e("td",null,d(m.customer_id),1),e("td",null,d(m.updated_at),1)]))),128))])]),_:1,__:[7]})]),_:1,__:[8]})]),_:1})]),_:1})]),_:1})}}};export{X as default};
