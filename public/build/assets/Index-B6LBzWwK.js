import{r as l,m as I,c as V,d as a,o as n,e as _,u as q,g as w,w as C,h as e,I as N,J as L,f as i,F as y,j as B,D,t as v,i as k,l as T}from"./app-CsZa9FYx.js";import{A}from"./AdminLayout-B9id1OaC.js";import E from"./ContactDetail-YZIVtMLQ.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"contacts-layout"},S={class:"contacts-sidebar"},U={class:"sidebar-inner"},j={class:"search-box"},z={class:"contact-list"},H=["onClick"],J={class:"avatar"},O={class:"meta"},P={class:"name"},$={key:0,class:"badge vip"},G={key:1,class:"badge blacklist"},K={key:2,class:"badge frequent"},Q={key:3,class:"badge inactive"},R={class:"phone"},W={key:0,class:"empty"},X={class:"contacts-detail"},Y={__name:"Index",setup(Z){const d=l([]),c=l(""),r=l(null),u=l(!1);async function x(){u.value=!0;try{const s=await T.get("/contacts");d.value=s.data.data??s.data}finally{u.value=!1}}I(x);const p=V(()=>{if(!c.value)return d.value;const s=c.value.toLowerCase();return d.value.filter(o=>(o.name??"").toLowerCase().includes(s)||(o.phone??"").includes(s))});function b(s){r.value=s.id}return(s,o)=>(n(),a(y,null,[_(q(w),{title:"Contacts"}),_(A,null,{title:C(()=>o[1]||(o[1]=[k("Contacts")])),default:C(()=>[e("div",M,[e("aside",S,[e("div",U,[e("div",j,[N(e("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),placeholder:"Search contact..."},null,512),[[L,c.value]])]),e("div",z,[(n(!0),a(y,null,B(p.value,t=>{var m,h,f,g;return n(),a("div",{key:t.id,class:D(["contact-item",{active:t.id===r.value,frequent:(m=t.tags)==null?void 0:m.includes("frequent"),inactive:(h=t.tags)==null?void 0:h.includes("inactive")}]),onClick:tt=>b(t)},[e("div",J,v((t.name??t.phone??"U")[0]),1),e("div",O,[e("div",P,[k(v(t.name||t.phone)+" ",1),t.is_vip?(n(),a("span",$,"VIP")):i("",!0),t.is_blacklisted?(n(),a("span",G,"BL")):i("",!0),(f=t.tags)!=null&&f.includes("frequent")?(n(),a("span",K," HOT ")):i("",!0),(g=t.tags)!=null&&g.includes("inactive")?(n(),a("span",Q," INACTIVE ")):i("",!0)]),e("div",R,v(t.phone),1)])],10,H)}),128)),!p.value.length&&!u.value?(n(),a("div",W," No contacts ")):i("",!0)])])]),e("section",X,[_(E,{"contact-id":r.value},null,8,["contact-id"])])])]),_:1})],64))}},ot=F(Y,[["__scopeId","data-v-f984a615"]]);export{ot as default};
