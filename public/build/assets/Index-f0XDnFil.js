import{A as B}from"./AdminLayout-BSfQMc_f.js";import{r as i,b as n,d as k,o as f,e as t,u as N,g as I,w as o,h as s,i as g,f as u,t as x,l as R,F as h}from"./app-XQ9sXrzo.js";const D={key:0},L={key:1},$={class:"d-flex align-center mb-4"},j={key:2},E={class:"d-flex justify-end mt-4"},F={class:"d-flex justify-end mt-4"},H={__name:"Index",setup(G){const m=i("general"),_=i({company_name:"CS WABA Demo",timezone:"Asia/Jakarta"}),a=i({phone_number:"+62 811-xxxx-xxxx",webhook_url:"https://your-domain.com/api/webhook/whatsapp",api_key:"secret-api-12345",status:"connected",show_key:!1}),d=i({sound_notification:!0,desktop_notification:!0,auto_assign_ticket:!1}),y=i(!1);function A(){y.value=!0,setTimeout(()=>y.value=!1,1200)}const b=i(!1),r=i(null);function C(){r.value=null,setTimeout(()=>{r.value={success:!0,message:"Webhook received successfully!",timestamp:new Date().toLocaleString()}},800)}return(J,e)=>{const w=n("v-tab"),U=n("v-tabs"),S=n("v-divider"),p=n("v-text-field"),W=n("v-chip"),v=n("v-btn"),V=n("v-switch"),T=n("v-card-text"),c=n("v-card"),z=n("v-alert"),P=n("v-dialog");return f(),k(h,null,[t(N(I),{title:"Settings"}),t(B,null,{title:o(()=>e[13]||(e[13]=[s("Settings")])),default:o(()=>[t(c,{elevation:"2",class:"pa-0"},{default:o(()=>[t(U,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),"bg-color":"#f5f6fa",grow:""},{default:o(()=>[t(w,{value:"general","prepend-icon":"mdi-cog"},{default:o(()=>e[14]||(e[14]=[s("General")])),_:1,__:[14]}),t(w,{value:"whatsapp","prepend-icon":"mdi-whatsapp"},{default:o(()=>e[15]||(e[15]=[s("WhatsApp API")])),_:1,__:[15]}),t(w,{value:"preferences","prepend-icon":"mdi-tune"},{default:o(()=>e[16]||(e[16]=[s("Preferences")])),_:1,__:[16]})]),_:1},8,["modelValue"]),t(S),t(T,{class:"pa-6"},{default:o(()=>[m.value==="general"?(f(),k("div",D,[e[17]||(e[17]=u("h3",{class:"text-h6 mb-4 font-weight-bold"},"General Settings",-1)),t(p,{modelValue:_.value.company_name,"onUpdate:modelValue":e[1]||(e[1]=l=>_.value.company_name=l),label:"Company Name",class:"mb-3"},null,8,["modelValue"]),t(p,{modelValue:_.value.timezone,"onUpdate:modelValue":e[2]||(e[2]=l=>_.value.timezone=l),label:"Timezone",placeholder:"Asia/Jakarta",class:"mb-3"},null,8,["modelValue"])])):g("",!0),m.value==="whatsapp"?(f(),k("div",L,[e[20]||(e[20]=u("h3",{class:"text-h6 mb-4 font-weight-bold"},"WhatsApp Business API",-1)),t(p,{modelValue:a.value.phone_number,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.phone_number=l),label:"Connected Phone Number",class:"mb-3"},null,8,["modelValue"]),t(p,{modelValue:a.value.webhook_url,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.webhook_url=l),label:"Webhook URL",class:"mb-3",readonly:""},null,8,["modelValue"]),t(p,{modelValue:a.value.api_key,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.api_key=l),type:a.value.show_key?"text":"password",label:"API Key",class:"mb-3","prepend-inner-icon":"mdi-key-outline","append-inner-icon":a.value.show_key?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[6]||(e[6]=l=>a.value.show_key=!a.value.show_key)},null,8,["modelValue","type","append-inner-icon"]),u("div",$,[t(W,{color:a.value.status==="connected"?"green":"red",dark:"",size:"small"},{default:o(()=>[s(x(a.value.status==="connected"?"Connected":"Disconnected"),1)]),_:1},8,["color"]),t(v,{class:"ms-3",variant:"outlined",size:"small"},{default:o(()=>e[18]||(e[18]=[s("Reconnect")])),_:1,__:[18]}),t(v,{class:"ms-3",variant:"text",size:"small",color:"primary",onClick:e[7]||(e[7]=l=>b.value=!0)},{default:o(()=>e[19]||(e[19]=[s(" Test Webhook ")])),_:1,__:[19]})]),e[21]||(e[21]=u("p",{class:"text-caption text-grey-darken-1"}," Pastikan webhook URL di atas sudah dipasang di provider WhatsApp Anda. ",-1))])):g("",!0),m.value==="preferences"?(f(),k("div",j,[e[22]||(e[22]=u("h3",{class:"text-h6 mb-4 font-weight-bold"},"Preferences",-1)),t(V,{modelValue:d.value.sound_notification,"onUpdate:modelValue":e[8]||(e[8]=l=>d.value.sound_notification=l),label:"Enable sound notification for new messages"},null,8,["modelValue"]),t(V,{modelValue:d.value.desktop_notification,"onUpdate:modelValue":e[9]||(e[9]=l=>d.value.desktop_notification=l),label:"Show desktop notification for new chats"},null,8,["modelValue"]),t(V,{modelValue:d.value.auto_assign_ticket,"onUpdate:modelValue":e[10]||(e[10]=l=>d.value.auto_assign_ticket=l),label:"Auto-assign new tickets to available agents"},null,8,["modelValue"])])):g("",!0),u("div",E,[t(v,{color:"primary",loading:y.value,onClick:A},{default:o(()=>e[23]||(e[23]=[s(" Save Changes ")])),_:1,__:[23]},8,["loading"])])]),_:1})]),_:1}),t(P,{modelValue:b.value,"onUpdate:modelValue":e[12]||(e[12]=l=>b.value=l),width:"450"},{default:o(()=>[t(c,{class:"pa-4"},{default:o(()=>[e[27]||(e[27]=u("h3",{class:"text-h6 mb-3 font-weight-bold"},"Test Webhook",-1)),e[28]||(e[28]=u("p",{class:"text-body-2 text-grey-darken-1 mb-3"}," Klik tombol di bawah untuk mengirim simulasi payload webhook. ",-1)),t(v,{color:"primary",onClick:C,class:"mb-3"},{default:o(()=>e[24]||(e[24]=[s("Send Test Request")])),_:1,__:[24]}),r.value?(f(),R(z,{key:0,type:"success",class:"mt-3",border:"start",prominent:""},{default:o(()=>[s(x(r.value.message)+" ",1),e[25]||(e[25]=u("br",null,null,-1)),u("small",null,x(r.value.timestamp),1)]),_:1,__:[25]})):g("",!0),u("div",F,[t(v,{variant:"text",onClick:e[11]||(e[11]=l=>b.value=!1)},{default:o(()=>e[26]||(e[26]=[s("Close")])),_:1,__:[26]})])]),_:1,__:[27,28]})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{H as default};
