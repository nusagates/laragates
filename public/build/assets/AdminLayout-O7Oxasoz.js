import{a as H,r as P,m as U,q as W,b as o,f as L,o as v,w as e,e as t,i as k,d as j,F as q,k as R,u as m,E as G,S as p,j as s,t as _,L as E,M as J,l as x}from"./app-BqckiNoC.js";/* empty css                                                                    */import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={__name:"AdminLayout",setup(Q){const T=H().props.auth.user.role,r=P(!0),A=[{label:"Dashboard",icon:"mdi-view-dashboard",href:"/dashboard",roles:["admin","superadmin","supervisor","agent"]},{label:"Chat",icon:"mdi-whatsapp",href:"/chat",roles:["admin","superadmin","supervisor","agent"]},{label:"Tickets",icon:"mdi-ticket-confirmation-outline",href:"/tickets",roles:["admin","superadmin","supervisor","agent"]},{label:"Agents",icon:"mdi-account-group",href:"/agents",roles:["admin","superadmin","supervisor"]},{label:"Templates",icon:"mdi-file-document-multiple",href:"/templates",roles:["admin","superadmin","supervisor"]},{label:"Broadcast",icon:"mdi-send",href:"/broadcast",roles:["admin","superadmin","supervisor"]},{label:"Analytics",icon:"mdi-finance",href:"/analytics",roles:["admin","superadmin","supervisor"]},{label:"Settings",icon:"mdi-cog",href:"/settings",roles:["admin","superadmin","supervisor"]}];let f=null,d=null;const l=()=>{x.post("/agent/heartbeat").catch(()=>{})},V=()=>{clearTimeout(d),d=setTimeout(()=>{x.post("/agent/offline").catch(()=>{})},15e3)},b=()=>{document.hidden?V():(l(),clearTimeout(d))};let g=0;const w=()=>{const i=Date.now();i-g>3e3&&(l(),g=i)};return U(()=>{f=setInterval(l,5e3),document.addEventListener("visibilitychange",b),window.addEventListener("focus",l),window.addEventListener("mousemove",w),window.addEventListener("keydown",l)}),W(()=>{clearInterval(f),clearTimeout(d),document.removeEventListener("visibilitychange",b),window.removeEventListener("focus",l),window.removeEventListener("mousemove",w),window.removeEventListener("keydown",l)}),(i,n)=>{const u=o("v-icon"),B=o("v-list-item-title"),c=o("v-list-item"),h=o("v-list"),C=o("v-navigation-drawer"),y=o("v-btn"),I=o("v-toolbar-title"),S=o("v-spacer"),$=o("v-divider"),M=o("v-menu"),D=o("v-app-bar"),N=o("v-container"),z=o("v-main"),F=o("v-app");return v(),L(F,null,{default:e(()=>[t(C,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=a=>r.value=a),elevation:"10",width:"250",class:"pt-4"},{default:e(()=>[n[2]||(n[2]=k("div",{class:"text-center mb-6"},[k("h2",{class:"font-weight-bold text-h6"},"WABA")],-1)),t(h,{density:"compact",nav:""},{default:e(()=>[(v(!0),j(q,null,R(A.filter(a=>a.roles.includes(m(T))),a=>(v(),L(c,{key:a.href,link:"",class:G([i.$page.url.startsWith(a.href)?"active-menu":""])},{default:e(()=>[t(m(p),{href:a.href,style:{color:"inherit","text-decoration":"none"},class:"w-100 d-flex align-center"},{default:e(()=>[t(u,{class:"mr-4"},{default:e(()=>[s(_(a.icon),1)]),_:2},1024),t(B,null,{default:e(()=>[s(_(a.label),1)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1032,["class"]))),128))]),_:1})]),_:1,__:[2]},8,["modelValue"]),t(D,{flat:"",elevation:"2"},{default:e(()=>[t(y,{icon:"",onClick:n[1]||(n[1]=a=>r.value=!r.value)},{default:e(()=>[t(u,null,{default:e(()=>n[3]||(n[3]=[s("mdi-menu")])),_:1,__:[3]})]),_:1}),t(I,{class:"font-weight-bold"},{default:e(()=>[E(i.$slots,"title",{},void 0,!0)]),_:3}),t(S),t(M,null,{activator:e(({props:a})=>[t(y,J({variant:"text"},a,{class:"text-capitalize"}),{default:e(()=>[t(u,{left:""},{default:e(()=>n[4]||(n[4]=[s("mdi-account-circle")])),_:1,__:[4]}),s(" "+_(i.$page.props.auth.user.name)+" ",1),t(u,{right:""},{default:e(()=>n[5]||(n[5]=[s("mdi-chevron-down")])),_:1,__:[5]})]),_:2},1040)]),default:e(()=>[t(h,null,{default:e(()=>[t(c,null,{default:e(()=>[t(m(p),{href:"/profile"},{default:e(()=>n[6]||(n[6]=[s("Profile")])),_:1,__:[6]})]),_:1}),t($),t(c,null,{default:e(()=>[t(m(p),{href:"/logout",method:"post",as:"button",class:"text-red"},{default:e(()=>n[7]||(n[7]=[s("Logout")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1})]),_:3}),t(z,null,{default:e(()=>[t(N,{class:"pt-8"},{default:e(()=>[E(i.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})}}},te=K(O,[["__scopeId","data-v-94153d97"]]);export{te as A};
