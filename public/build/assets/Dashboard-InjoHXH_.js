import{A as $}from"./AdminLayout-B9id1OaC.js";import{b as r,d as u,o as c,e as s,u as p,g as j,w as e,h as a,t as o,i as l,F as y,j as k,Q as g}from"./app-CsZa9FYx.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={class:"pa-6 dashboard-bg"},q={class:"d-flex align-center justify-space-between"},z={class:"stat-value"},B={class:"d-flex align-center justify-space-between"},D={class:"stat-value"},N={class:"d-flex align-center justify-space-between"},Q={class:"stat-value"},O={class:"row-main"},S={class:"row-sub"},T={key:1,class:"empty-text"},V={class:"row-main"},E={class:"row-sub"},F={key:1,class:"empty-text"},L={class:"d-flex flex-wrap ga-3"},I={__name:"Dashboard",props:{stats:{type:Object,required:!0},waiting_queue_list:{type:Array,default:()=>[]},agents:{type:Array,default:()=>[]}},setup(n){function x(d){g.post(route("dashboard.take-chat",d),{},{preserveScroll:!0})}function A(d){if(!d||d<1)return"just now";const t=Math.floor(d/60),_=d%60;return t>0?`Waiting ${t}h ${_}m`:`Waiting ${_}m`}return(d,t)=>{const _=r("v-icon"),v=r("v-card"),f=r("v-col"),w=r("v-row"),b=r("v-divider"),m=r("v-btn"),C=r("v-chip");return c(),u(y,null,[s(p(j),{title:"Dashboard â€“ WABA"}),s($,null,{title:e(()=>t[3]||(t[3]=[l("Dashboard")])),default:e(()=>[a("div",h,[s(w,{class:"mb-6"},{default:e(()=>[s(f,{cols:"12",md:"4"},{default:e(()=>[s(v,{class:"pa-5 stat-card"},{default:e(()=>[a("div",q,[a("div",null,[t[4]||(t[4]=a("div",{class:"stat-label"},"Active Chats",-1)),a("div",z,o(n.stats.active_chats),1)]),s(_,{size:"36",color:"primary"},{default:e(()=>t[5]||(t[5]=[l(" mdi-message-processing-outline ")])),_:1,__:[5]})])]),_:1})]),_:1}),s(f,{cols:"12",md:"4"},{default:e(()=>[s(v,{class:"pa-5 stat-card warning"},{default:e(()=>[a("div",B,[a("div",null,[t[6]||(t[6]=a("div",{class:"stat-label"},"Waiting Queue",-1)),a("div",D,o(n.stats.waiting_queue),1)]),s(_,{size:"36",color:"warning"},{default:e(()=>t[7]||(t[7]=[l(" mdi-timer-sand ")])),_:1,__:[7]})])]),_:1})]),_:1}),s(f,{cols:"12",md:"4"},{default:e(()=>[s(v,{class:"pa-5 stat-card success"},{default:e(()=>[a("div",N,[a("div",null,[t[8]||(t[8]=a("div",{class:"stat-label"},"Agents Online",-1)),a("div",Q,o(n.stats.agents_online),1)]),s(_,{size:"36",color:"success"},{default:e(()=>t[9]||(t[9]=[l(" mdi-account-group-outline ")])),_:1,__:[9]})])]),_:1})]),_:1})]),_:1}),s(w,null,{default:e(()=>[s(f,{cols:"12",md:"6"},{default:e(()=>[s(v,{class:"pa-6 surface-card"},{default:e(()=>[t[11]||(t[11]=a("h3",{class:"panel-title"},"Waiting Queue",-1)),s(b,{class:"divider"}),n.waiting_queue_list.length?(c(!0),u(y,{key:0},k(n.waiting_queue_list,i=>(c(),u("div",{key:i.id,class:"row-item"},[a("div",null,[a("div",O,o(i.customer),1),a("div",S,o(A(i.waiting)),1)]),s(m,{size:"small",color:"primary",variant:"flat",onClick:K=>x(i.id)},{default:e(()=>t[10]||(t[10]=[l(" TAKE ")])),_:2,__:[10]},1032,["onClick"])]))),128)):(c(),u("div",T," No waiting chats ðŸŽ‰ "))]),_:1,__:[11]})]),_:1}),s(f,{cols:"12",md:"6"},{default:e(()=>[s(v,{class:"pa-6 surface-card"},{default:e(()=>[t[12]||(t[12]=a("h3",{class:"panel-title"},"Agent Status",-1)),s(b,{class:"divider"}),n.agents.length?(c(!0),u(y,{key:0},k(n.agents,i=>(c(),u("div",{key:i.id,class:"row-item"},[a("div",null,[a("div",V,o(i.name),1),a("div",E,o(i.active_chats)+" active chats ",1)]),s(C,{size:"small",color:i.status==="online"?"success":"grey",variant:"flat"},{default:e(()=>[l(o(i.status),1)]),_:2},1032,["color"])]))),128)):(c(),u("div",F," No agents online "))]),_:1,__:[12]})]),_:1})]),_:1}),s(v,{class:"pa-6 mt-8 surface-card"},{default:e(()=>[t[16]||(t[16]=a("h3",{class:"panel-title"},"Quick Actions",-1)),a("div",L,[s(m,{color:"primary",variant:"flat",onClick:t[0]||(t[0]=i=>p(g).visit("/chat"))},{default:e(()=>t[13]||(t[13]=[l(" Open Chat ")])),_:1,__:[13]}),s(m,{color:"secondary",variant:"outlined",onClick:t[1]||(t[1]=i=>p(g).visit("/broadcast"))},{default:e(()=>t[14]||(t[14]=[l(" Broadcast ")])),_:1,__:[14]}),s(m,{color:"secondary",variant:"outlined",onClick:t[2]||(t[2]=i=>p(g).visit("/tickets"))},{default:e(()=>t[15]||(t[15]=[l(" Create Ticket ")])),_:1,__:[15]})])]),_:1,__:[16]})])]),_:1})],64)}}},J=W(I,[["__scopeId","data-v-a630d310"]]);export{J as default};
