import{a as C,r as f,b as n,d,o as p,e as l,u as b,g as F,w as s,i as t,H as L,j as i,h as N,F as y,k as D,t as o,Q as h}from"./app-z_qK7d6H.js";import{A as j}from"./AdminLayout-DDNgbf8P.js";/* empty css                                                                    */import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"d-flex justify-space-between align-center mb-4"},T={class:"d-flex",style:{gap:"8px"}},U={class:"text-caption"},A={key:0},K={class:"mt-4 d-flex justify-end"},z={__name:"Index",setup(Q){const m=C().props.value,u=f(m.campaigns||{data:[],last_page:1}),r=f(m.filters||{search:"",status:""});function _(){h.get(route("broadcast.report"),{search:r.value.search,status:r.value.status},{preserveState:!0})}return(v,e)=>{const x=n("v-text-field"),V=n("v-select"),c=n("v-btn"),k=n("Link"),S=n("v-table"),w=n("v-pagination"),B=n("v-card");return p(),d(y,null,[l(b(F),{title:"Broadcast Report"}),l(j,null,{title:s(()=>e[4]||(e[4]=[i("Broadcast Report")])),default:s(()=>[l(B,{class:"pa-4"},{default:s(()=>[t("div",R,[e[6]||(e[6]=t("div",null,[t("h3",{class:"text-h6 mb-0"},"Broadcast Campaign Report"),t("div",{class:"text-caption"},"Summary of campaigns")],-1)),t("div",T,[l(x,{modelValue:r.value.search,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.search=a),dense:"",placeholder:"Search campaign...",onKeyup:L(_,["enter"])},null,8,["modelValue"]),l(V,{dense:"",modelValue:r.value.status,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.status=a),items:["draft","pending_approval","approved","scheduled","running","done","failed"],clearable:"",placeholder:"Status"},null,8,["modelValue"]),l(c,{color:"primary",onClick:_},{default:s(()=>e[5]||(e[5]=[i("Filter")])),_:1,__:[5]})])]),l(S,{dense:""},{default:s(()=>[e[9]||(e[9]=t("thead",null,[t("tr",null,[t("th",null,"Campaign"),t("th",null,"Template"),t("th",null,"Targets"),t("th",null,"Sent"),t("th",null,"Failed"),t("th",null,"Date"),t("th")])],-1)),t("tbody",null,[(p(!0),d(y,null,D(u.value.data,a=>{var g;return p(),d("tr",{key:a.id},[t("td",null,[t("strong",null,o(a.name),1),t("div",U,"by "+o(a.created_by),1)]),t("td",null,o(((g=a.template)==null?void 0:g.name)||"-"),1),t("td",null,o(a.targets_count??a.total_targets??"-"),1),t("td",null,o(a.sent_count),1),t("td",null,o(a.failed_count),1),t("td",null,o(new Date(a.created_at).toLocaleString()),1),t("td",null,[l(k,{href:v.route("broadcast.report.show",a.id)},{default:s(()=>[l(c,{small:""},{default:s(()=>e[7]||(e[7]=[i("Detail")])),_:1,__:[7]})]),_:2},1032,["href"])])])}),128)),u.value.data.length===0?(p(),d("tr",A,e[8]||(e[8]=[t("td",{colspan:"7",class:"text-center"},"No campaigns found.",-1)]))):N("",!0)])]),_:1,__:[9]}),t("div",K,[l(w,{length:u.value.last_page,modelValue:u.value.current_page,"onUpdate:modelValue":[e[2]||(e[2]=a=>u.value.current_page=a),e[3]||(e[3]=a=>b(h).get(v.route("broadcast.report"),{page:a},{preserveState:!0}))]},null,8,["length","modelValue"])])]),_:1})]),_:1})],64)}}};export{z as default};
