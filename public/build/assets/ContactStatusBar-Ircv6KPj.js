import{r as d,m as _,x as f,d as e,o,h as s,f as y,t as n,D as g,F as x,l as h}from"./app-CsZa9FYx.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"status-bar"},B={key:0,class:"muted"},I={key:1,class:"muted"},b={key:2,class:"content"},w={class:"activity"},N={class:"messages"},S={class:"flags"},D={__name:"ContactStatusBar",props:{contactId:{type:Number,required:!0}},setup(v){const r=v,c=d(!0),l=d(!1),t=d(null);async function i(){if(r.contactId){c.value=!0,l.value=!1;try{const u=await h.get(`/customers/${r.contactId}/summary`);t.value=u.data}catch{l.value=!0}finally{c.value=!1}}}_(i),f(()=>r.contactId,i);function p(){if(!t.value)return"text-gray-400";switch(t.value.status){case"active":return"text-green-400";case"inactive":return"text-yellow-400";case"blocked":return"text-red-400";default:return"text-gray-400"}}return(u,a)=>{var m;return o(),e("div",C,[c.value?(o(),e("div",B," Loading customer status... ")):l.value?(o(),e("div",I," Unable to load customer status ")):(o(),e("div",b,[s("span",{class:g(["status",p()])},n(t.value.status.toUpperCase()),3),a[1]||(a[1]=s("span",{class:"dot"},"•",-1)),s("span",w,n(((m=t.value.last_activity)==null?void 0:m.text)??"No recent activity"),1),a[2]||(a[2]=s("span",{class:"dot"},"•",-1)),s("span",N,n(t.value.counters.messages_today)+" msg today ",1),t.value.flags.length?(o(),e(x,{key:0},[a[0]||(a[0]=s("span",{class:"dot"},"•",-1)),s("span",S,n(t.value.flags.join(", ")),1)],64)):y("",!0)]))])}}},V=k(D,[["__scopeId","data-v-f73541dd"]]);export{V as default};
