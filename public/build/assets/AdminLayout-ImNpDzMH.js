import{a as P,r as U,m as W,q as j,b as o,f as L,o as _,w as e,e as t,i as k,d as q,F as H,k as R,u as m,E as G,S as v,j as s,t as p,L as E,M as J,l as x}from"./app-8P1lhKkM.js";/* empty css                                                                    */import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={__name:"AdminLayout",setup(Q){const T=P().props.auth.user.role,r=U(!0),A=[{label:"Dashboard",icon:"mdi-view-dashboard",href:"/dashboard",roles:["admin","superadmin","supervisor","agent"]},{label:"Chat",icon:"mdi-whatsapp",href:"/chat",roles:["admin","superadmin","supervisor","agent"]},{label:"Tickets",icon:"mdi-ticket-confirmation-outline",href:"/tickets",roles:["admin","superadmin","supervisor","agent"]},{label:"Agents",icon:"mdi-account-group",href:"/agents",roles:["admin","superadmin"]},{label:"Templates",icon:"mdi-file-document-multiple",href:"/templates",roles:["admin","superadmin","supervisor"]},{label:"Broadcast",icon:"mdi-send",href:"/broadcast",roles:["admin","superadmin","supervisor"]},{label:"Analytics",icon:"mdi-finance",href:"/analytics",roles:["admin","superadmin"]},{label:"Settings",icon:"mdi-cog",href:"/settings",roles:["superadmin"]}];let f=null,d=null;const l=()=>{x.post("/agent/heartbeat").catch(()=>{})},V=()=>{clearTimeout(d),d=setTimeout(()=>{x.post("/agent/offline").catch(()=>{})},15e3)},b=()=>{document.hidden?V():(l(),clearTimeout(d))};let g=0;const h=()=>{const i=Date.now();i-g>3e3&&(l(),g=i)};return W(()=>{f=setInterval(l,5e3),document.addEventListener("visibilitychange",b),window.addEventListener("focus",l),window.addEventListener("mousemove",h),window.addEventListener("keydown",l)}),j(()=>{clearInterval(f),clearTimeout(d),document.removeEventListener("visibilitychange",b),window.removeEventListener("focus",l),window.removeEventListener("mousemove",h),window.removeEventListener("keydown",l)}),(i,n)=>{const u=o("v-icon"),B=o("v-list-item-title"),c=o("v-list-item"),w=o("v-list"),C=o("v-navigation-drawer"),y=o("v-btn"),I=o("v-toolbar-title"),S=o("v-spacer"),$=o("v-divider"),M=o("v-menu"),D=o("v-app-bar"),N=o("v-container"),z=o("v-main"),F=o("v-app");return _(),L(F,null,{default:e(()=>[t(C,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=a=>r.value=a),elevation:"10",width:"250",class:"pt-4"},{default:e(()=>[n[2]||(n[2]=k("div",{class:"text-center mb-6"},[k("h2",{class:"font-weight-bold text-h6"},"WABA")],-1)),t(w,{density:"compact",nav:""},{default:e(()=>[(_(!0),q(H,null,R(A.filter(a=>a.roles.includes(m(T))),a=>(_(),L(c,{key:a.href,link:"",class:G([i.$page.url.startsWith(a.href)?"active-menu":""])},{default:e(()=>[t(m(v),{href:a.href,style:{color:"inherit","text-decoration":"none"},class:"w-100 d-flex align-center"},{default:e(()=>[t(u,{class:"mr-4"},{default:e(()=>[s(p(a.icon),1)]),_:2},1024),t(B,null,{default:e(()=>[s(p(a.label),1)]),_:2},1024)]),_:2},1032,["href"])]),_:2},1032,["class"]))),128))]),_:1})]),_:1,__:[2]},8,["modelValue"]),t(D,{flat:"",elevation:"2"},{default:e(()=>[t(y,{icon:"",onClick:n[1]||(n[1]=a=>r.value=!r.value)},{default:e(()=>[t(u,null,{default:e(()=>n[3]||(n[3]=[s("mdi-menu")])),_:1,__:[3]})]),_:1}),t(I,{class:"font-weight-bold"},{default:e(()=>[E(i.$slots,"title",{},void 0,!0)]),_:3}),t(S),t(M,null,{activator:e(({props:a})=>[t(y,J({variant:"text"},a,{class:"text-capitalize"}),{default:e(()=>[t(u,{left:""},{default:e(()=>n[4]||(n[4]=[s("mdi-account-circle")])),_:1,__:[4]}),s(" "+p(i.$page.props.auth.user.name)+" ",1),t(u,{right:""},{default:e(()=>n[5]||(n[5]=[s("mdi-chevron-down")])),_:1,__:[5]})]),_:2},1040)]),default:e(()=>[t(w,null,{default:e(()=>[t(c,null,{default:e(()=>[t(m(v),{href:"/profile"},{default:e(()=>n[6]||(n[6]=[s("Profile")])),_:1,__:[6]})]),_:1}),t($),t(c,null,{default:e(()=>[t(m(v),{href:"/logout",method:"post",as:"button",class:"text-red"},{default:e(()=>n[7]||(n[7]=[s(" Logout ")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1})]),_:3}),t(z,null,{default:e(()=>[t(N,{class:"pt-8"},{default:e(()=>[E(i.$slots,"default",{},void 0,!0)]),_:3})]),_:3})]),_:3})}}},te=K(O,[["__scopeId","data-v-05ff2d4d"]]);export{te as A};
